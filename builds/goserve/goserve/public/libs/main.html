<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/x-icon"
        href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiB2aWV3Qm94PSIwIDAgMCAwIDQwMCA0MDAiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTM1NyAxMjRsLTMgNi00MiA0My00MiA0MnYxMDVjMiA4IDggMTMgMTUgMTVoNThjNy0zIDEzLTggMTQtMTZWMTI0IiBmaWxsPSIjYmMyMmYzIi8+PHBhdGggZD0iTTQxIDIxOWwxIDk5YzEgOCA3IDE1IDE1IDE3aDU3YzctMSAxMi03IDE0LTE0bDEtMlYyMTVsLTQyLTQyYy00NS00NS00My00My00NC00N2EyMyAyMyAwIDAgMS0xLTNjLTEtMS0xIDEtMSA5Nm0yNzEtNDZsLTQyIDQyIDQyLTQyIiBmaWxsPSIjZTMyYTc3Ii8+PHBhdGggZD0iTTkzIDY1Yy0yIDAtNSAxLTcgM2wtNDEgMzljLTMgNC00IDExLTMgMTV2MmwzIDYgMTA0IDEwNGMtNS02LTUtMTQgMC0yMWwyNi0yNiAyNS0yNi00NS00NC00Ny00N2MtNC00LTEwLTYtMTUtNSIgZmlsbD0iIzM0ZTNiYiIvPjxwYXRoIGQ9Ik0zMDEgNjVsLTggMy0xNDQgMTQ1Yy01IDctNCAxNSAwIDIxIDEgMyAzNyAzOCAzOSA0MCA4IDUgMTcgNCAyNC0xbDE0My0xNDRjNC02IDQtMTQtMS0yMWwtNDEtNDBjLTMtMy04LTQtMTItMyIgZmlsbD0iI2ZiZGIwNCIvPjxwYXRoIGQ9Ik0xNDUgMjIzbDEgMWExMyAxMyAwIDAgMCAwLTFoLTEiIGZpbGw9IiM2YzljOWMiLz48L2c+PC9zdmc+">
    <title>MikoSite</title>
    <!-- load in the head to prevent flash, but will slow the loading -->
    <!-- <script type="text/javascript" src="/libs/icons.js"></script>
    <script type="text/javascript" src="/libs/main.js"></script>
    <script type="text/javascript" src="/libs/viewers.js"></script>
    <script type="text/javascript" src="/libs/players.js"></script>
    <script type="text/javascript" src="/outLibs/spark-md5.min.js"></script>
    <script type="text/javascript" src="/outLibs/showdown.min.js"></script>
    <script type="text/javascript" src="/outLibs/highlight.min.js"></script> -->
    <style>
        * {
            font-family: sans-serif, 'Segoe UI', 'Sans', Arial, 'Microsoft Yahei', Helvetica;
            font-size: 14px;
        }

        *::-webkit-scrollbar {
            width: 6px;
            height: 6px;
            background-color: #f4f4f4;
        }

        *::-webkit-scrollbar-track {
            border-radius: 6px;
            background-color: #f4f4f4;
        }

        *::-webkit-scrollbar-thumb {
            border-radius: 6px;
            background-color: #888;
        }
    </style>

</head>

<body style="background-color: #f4f4f4; padding:0; margin:0;">
    <div class="mainPage">
        
        <style>
            @font-face {
                font-family: "iconfont";
                src: url('./fonts/iconfont.woff2') format('woff2'),
                url('./fonts/iconfont.woff') format('woff'),
                url('./fonts/iconfont.ttf') format('truetype');
            }

            /* .iconfont {
                font-family: "iconfont" !important;
                font-size: 16px;
                font-style: normal;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            } */

            div.headline {
                position:fixed;
                z-index: 100;
                top:5px;
                right:5px;
                left:5px;
                padding:0.5em;
                background:#fefefe;
                box-shadow:6px 0px 6px #ddd;
            }
            div.padding_headline {
                position: relative;
                height: 6em;
                width: 100%;
            }
            div.clockline {
                position: relative;
                width: 100%;
                color: #666;
            }
            div.searchline {
                margin-top: 1em;
                margin-bottom: 1em;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            div.mainline {
                position: relative;
                display: block;
                top: 2em;
                /* background: #fff; */
                /* height: 100px; */
                margin: 2em;
            }
        </style>
        <div class="headline">
            <style>
                /* .mainBox.ID1424340480253{overflow:hidden;position:absolute;top:0;right:0;bottom:0;left:0;            font-size:14px;}  */
                /* .viewBox.ID1424340480253{overflow:hidden;position:absolute;top:3em;right:0;bottom:0;left:0;}  */
                .head_title{
                    float:left;
                    padding:0 0.5em;
                    cursor:pointer;
                    color:#ead;
                    font-weight:600;
                    font-size:1.4em;
                } 
                .head_menu_wrapper{
                    display:flex; 
                    overflow: auto;
                    flex-direction:row-reverse;
                } 
                .head_menu{
                    display:flex; 
                    overflow: auto;
                } 
                .head_menu .item{
                    cursor:pointer; 
                    font-weight:600;
                    font-size:1em;
                    margin:0 0.2em;
                    padding:0.2em 1em;  
                    align-content: center;          
                }
                .item.link {
                    border-radius:0.5em;
                    border:2px solid #eee;
                    background:#f4f4f4;
                    background: rgb(238, 238, 255);
                }
                .item.login {
                    font-family: 'iconfont' !important;
                    font-style: normal;
                    text-align: center;
                    font-size: 1.2em;
                    /* -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale; */
                }
                .item.login::before {
                    content: "\e61e";
                }
            </style>
            <div class="head_title">MikoSite</div>
            <div class="head_menu_wrapper">
                <div class="head_menu">
                    <!-- <div class="item link">cockpit</div>
                    <div class="item link">portainer</div>
                    <div class="item link">trweb</div>
                    <div class="item link">aria2</div>
                    <div class="item link">code</div>
                    <div class="item link">firefox</div>
                    <div class="item link">baidunetdisk</div>
                    <div class="item link">jellyfin</div> -->
                    <div class="item login"></div>
                </div>
            </div>
            <script>
                // when click login, login would be logout, the color changes two
                // onclick + change inserted line 
            </script>
        </div>
        <div class="padding_headline"></div>
        <div class="clockline">
            <style>
                div.time {
                    align-content: center;
                    text-align: center;
                    font-size: 3em;
                    color: #666;
                    width: 100%;
                }
            </style>
            <div class="time">18:07</div>
            <script>
                function get_time() {
                    const now = new Date()
                    const hours = ('0' + now.getHours()).slice(-2)
                    const minutes = ('0' + now.getMinutes()).slice(-2)
                    document.querySelector(".clockline").querySelector(".time").innerText = hours + ":" + minutes;
                }
                get_time()
                setInterval(get_time, 10000)
            </script>
        </div>
        <div class="searchline">
            <style>
                .search {
                    display: flex;
                    height: 44px;
                    --un-bg-opacity: 1;
                    background-color: rgba(229, 231, 235, var(--un-bg-opacity));
                    align-content: center;
                    text-align: center;
                    align-items: center;
                    max-width: 100%;
                    margin: 0 20px;
                }

                .search_input, .search_go, .search_engine {
                    align-content: center;
                    text-align: center;
                    height: 100%;
                    cursor: pointer;
                    align-items: center;
                    position: relative;
                }                

                .search_go .icon, .search_engine .icon {
                    font-family: "iconfont";
                    font-size: 1.25em;
                    padding: 0.2em;
                    width: 42px;
                }

                .search_go .icon::before {
                    content: "\e792";
                }
                
                .search_engine .bing.icon::before {
                    content: "\eb70";
                }

                .search_engine .baidu.icon::before {
                    content: "\e68b";
                }

                .search_engine .google.icon::before {
                    content: "\e87a";
                }

                .search_engine .checkmark::before {
                    content: "\e644";
                    display: none;
                }

                .search_engine.item {
                    display: flex;
                    flex-direction: row;
                    padding: 0.3em 0.3em 0.1em 0.1em;
                }
                
                .search_engine.item .name {
                    padding: 0.1em;
                }

                .search_engine.item .checkmark.icon {
                    margin-left: auto;
                }

                .search_engine_sel {
                    width: 200px;
                    position: absolute;
                    background-color: #fff;
                    top: 100%;
                    left: 0;
                    display: none;
                    z-index: 9;
                }

                .search_engine_sel .item:hover {
                    opacity: 0.6;
                }

                .search_input {
                    display: block;
                    height: 100%;
                    width: 400px;
                }
                .search_input input {
                    outline: none;
                    box-sizing: border-box;
                    border-width: 0;
                    border-style: solid;
                    border-color: #e5e7eb;
                    height: 100%;
                    width: 100%;
                    background-color: inherit;
                }

                .search_engine.current:hover > .search_engine_sel {
                    display: block;
                }


            </style>
            <div class="search">
                <div class="search_engine current">
                    <div class="bing icon"></div>
                    <div class="search_engine_sel">
                        <div class="search_engine item">
                            <div class="bing icon"></div>
                            <div class="name">bing</div>
                            <div class="checkmark icon"></div>
                        </div>
                        <div class="search_engine item">
                            <div class="baidu icon"></div>
                            <div class="name">baidu</div>
                            <div class="checkmark icon"></div>
                        </div>
                        <div class="search_engine item">
                            <div class="google icon"></div>
                            <div class="name">google</div>
                            <div class="checkmark icon"></div>
                        </div>
                    </div>
                </div>
                <div class="search_input">
                    <input type="text">
                </div>
                <div class="search_go">
                    <div class="icon"></div>
                </div>
            </div>
        </div>
        <div class="mainline">
            <style>
                .flows {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: start;
                    justify-items: center;
                    align-items: center;
                    align-content: center;
                    border-radius: 1em;
                    background: #f8f8f8;
                    margin-bottom: 4em;
                }
                .flows .card {
                    display: block;
                    /* width: 30%; */
                    height: 100px;
                    background-color: #fff;
                    border-radius: 1em;
                    margin: 1%;
                }

                @media (min-width: 800px) {
                    .card {
                        width: 31%;
                    }
                }
                @media (max-width: 800px) {
                    .card {
                        width: 48%;
                    }
                }
                @media (max-width: 500px) {
                    .card {
                        width: 96%;
                    }
                }
            </style>
            <div class="flows">
                <div class="card monitor">Monitor</div>
                <div class="card">Files</div>
            </div>
            <div class="flows">
                <div class="card">cockpit</div>
                <div class="card">portainer</div>
                <div class="card">transmission</div>
                <div class="card">aria2</div>
                <div class="card">vscode</div>
                <div class="card">firefox</div>
                <div class="card">baidunetdisk</div>
                <div class="card">jellyfin</div>
            </div>
        </div>
        <div class="extendline"></div>
        <div class="content">
            <div class="flows"></div>
        </div>
    </div>
    <!-- htmlstore is a storage for html components. in js script, you may refer to the component and insert to the right place. -->
    <htmlstore style="display: none;">
        <module class="pie_progress">
            <style>
                :host {
                    --basic_size: 120px;
                    --progressColor: #fff;
                    --noProgressColor: #fff;
                    --center_color: #fff;
                }
                .pieBox {
                    margin:auto;
                    overflow:hidden;
                    height:1em;
                    width:1em;
                    position:relative;
                    font-size: var(--basic_size);
                }
                .backCircle, .leftCircle, .rightCircle{
                    position:absolute;
                    border-radius:50%;
                    height:1em;
                    width:1em;
                }
                .centerCircle, .centerInfo{
                    position:absolute;
                    top:50%;
                    left:50%;
                    transform:translate(-50%,-50%);
                }
                .backCircle{
                    background: var(--progressColor);
                }
                .leftCircle, .rightCircle{
                    background: var(--noProgressColor);
                }               
                .leftCircle{
                    clip:rect(0,0.5em,1em,0);
                }
                .rightCircle{
                    clip:rect(0,1em,1em,0.5em);
                }
                .centerCircle{
                    height:0.86em;
                    width:0.86em;
                    border-radius:50%;
                    background: var(--center_color);
                }
                .centerInfo{
                    font-size:0.23em;
                    font-weight:600;
                    white-space:nowrap;
                }
            </style>
            <div class="pieBox">
                <div class="backCircle"></div>
                <div class="leftCircle"></div>
                <div class="rightCircle"></div>
                <div class="centerCircle"></div>
                <div class="centerInfo">-%</div>
            </div>
        </module>
        <module class="monitor">
            <style>
                .backdrop {
                    --basic_size: 14px;
                    position:absolute;
                    overflow:auto;
                    height:100%;
                    width:100%;
                    font-size:var(--basic_size);
                }
                .cardmain {
                    box-sizing:border-box;
                    overflow:hidden;
                }
                .leftcol {
                    width:21%;
                    float:left;
                } 
                .rightcol {
                    overflow:hidden;
                }
                .card {
                    box-sizing:border-box;
                    display:block;
                    padding:0.8em;
                    margin:0.6em 0.6em;
                    border-radius:0.4em;
                    overflow:hidden;
                    background-color:#fff;
                }
                .card .title {
                    font-size:1.2em;
                    font-weight:600;
                }
                .card .item {
                    font-weight:600;
                    text-align:center;
                    color:#666;
                }
                .card .info {
                    font-size:1.1em;
                    font-weight:600;
                    text-align:center;
                }
                .card .preinfo {
                    font-weight:550;
                    text-align:left;
                    color:#333;
                    overflow:auto;
                    white-space:pre;
                    font-family:"consolas","monospace","serif",
                    "sans-serif","Segoe UI","Sans","Arial","Microsoft Yahei","Helvetica";
                }
                .column2, .column3 {
                    box-sizing:border-box;
                    display:block;
                    float:left;
                    overflow:hidden;
                }
                .column2 {
                    width:50%;
                } 
                .column3 {
                    width:33.33333%;
                }
                @media (max-width:42em) {
                    .leftcol, .rightcol, .column2, .column3 {
                        float:none;
                        width:100%;
                        padding:0;
                    }
                }
                
            </style>

            <div class="backdrop">
                <div class="leftcol">
                    <div class="card">
                        <div class="title">General</div>
                        <div class="card uptime" style="background-color: #fed;">
                            <div class="item">Uptime</div>
                            <div class="info">-</div>
                        </div>
                        <div class="card distro" style="background-color: #ffd;">
                            <div class="item">Distribution</div>
                            <div class="info">-</div>
                        </div>
                        <div class="card host" style="background-color: #efd;">
                            <div class="item">Hostname</div>
                            <div class="info">-</div>
                        </div>
                        <div class="card net" style="background-color: #dfd;">
                            <div class="preinfo" style="height: 8em;"></div>
                        </div>
                        <div class="card version" style="background-color: #def;">
                            <div class="item">-</div>
                        </div>
                    </div>
                </div>
                <div class="rightcol">
                    <div class="cardmain">
                        <div class="column3 cpu">
                            <div class="card">
                                <div class="title">Cpu</div>
                                <div class="pie" style="padding-bottom: 1.5em;"></div>
                                <div class="info">-</div>
                                <div class="card" style="background-color: #ffe;">
                                    <div class="preinfo" style="height: 12em;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="column3 mem">
                            <div class="card">
                                <div class="title">Memory</div>
                                <div class="pie" style="padding-bottom: 1.5em;"></div>
                                <div class="info">-</div>
                                <div class="card" style="background-color: #efe;">
                                    <div class="preinfo" style="height: 12em;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="column3 disk">
                            <div class="card">
                                <div class="title">Disk</div>
                                <div class="pie" style="padding-bottom: 1.5em;"></div>
                                <div class="info">-</div>
                                <div class="card" style="background-color: #eef;">
                                    <div class="preinfo" style="height: 12em;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" style="margin-top:0;">
                        <div class="title">Transmission</div>
                        <div class="column3 rxSpeed">
                            <div class="card" style="background-color: #eff; color: #333;">
                                <div class="info">Rx Speed: 0 KB/s</div>
                            </div>
                        </div> 
                        <div class="column3 txSpeed">
                            <div class="card" style="background-color: #eef; color: #333;">
                                <div class="info">Tx Speed: 0 KB/s</div>
                            </div>
                        </div>
                        <div class="column3 totalSpeed">
                            <div class="card" style="background-color: #fef; color: #333;">
                                <div class="info">Total Speed: 0 KB/s</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </module>
        <module class="innerview">
            <style>
                :host {
                    --basic_size: 14px;
                    --innerbox_width: 1px;
                    --innerbox_height: 1px;
                    --innerbox_zindex: 9;
                }
                .innerBox {
                    position:fixed;
                    overflow:hidden;
                    top:50%;
                    left:50%;
                    transform:translate(-50%,-50%);
                    display:none;
                    background:transparent;
                    font-size: var(--basic_size);
                    width:  var(--innerbox_width);
                    height: var(--innerbox_height);
                    z-index: var(--innerbox_zindex);
                    cursor:move;
                    padding:1em;
                }
                .icontain {position:relative;overflow:hidden;width:100%;height:100%;background:#fff;
                        border-radius:0.5em;box-shadow:0 0 0.5em 0 #888;cursor:default;}
                .header {position:absolute;top:0;right:0;left:0;}
                .header .ctrlBar {float:right;display:flex;} 
                .header .ctrlBtn img {width:100%;height:100%;}
                .header .ctrlBtn {padding:0.9em;cursor:pointer;border-radius:0.5em;width:1em;height:1em;flex-shrink:0;}
                .header .prevBtn:hover {background:#ccc;} .header .nextBtn:hover {background:#ccc;}
                .header .minBtn:hover {background:#fe7;} .header .maxBtn:hover {background:#8f7;}
                .header .downBtn:hover {background:#8cf;} .header .exitBtn:hover {background:#f87;}
                .header .title {padding:0.6em;cursor:move;overflow:hidden;white-space:nowrap;font-weight:600;color:#000;}
                .content {position:absolute;top:3em;right:0;bottom:0;left:0;overflow:hidden;}
                .resizeTop {position:absolute;height:0.5em;width:100%;top:0.5em;left:0.5em;cursor:n-resize;}
                .resizeBottom {position:absolute;height:0.5em;width:100%;bottom:0.5em;left:0.5em;cursor:s-resize;}
                .resizeLeft {position:absolute;height:100%;width:0.5em;top:0.5em;left:0.5em;cursor:w-resize;}
                .resizeRight {position:absolute;height:100%;width:0.5em;top:0.5em;right:0.5em;cursor:e-resize;}
                .resizeTopLeft {position:absolute;height:0.5em;width:0.5em;top:0.5em;left:0.5em;cursor:nw-resize;}
                .resizeTopRight {position:absolute;height:0.5em;width:0.5em;top:0.5em;right:0.5em;cursor:ne-resize;}
                .resizeBottomLeft {position:absolute;height:0.5em;width:0.5em;bottom:0.5em;left:0.5em;cursor:sw-resize;}
                .resizeBottomRight {position:absolute;height:0.5em;width:0.5em;bottom:0.5em;right:0.5em;cursor:se-resize;}
            </style>
            <div class="innerBox">
                <div class="icontain">
                    <div class="header">
                        <div class="ctrlBar">
                            <div class="ctrlBtn prevBtn">
                                <img src="' + args.htmlParts.prevIcon + '"/>
                            </div>
                            <div class="ctrlBtn nextBtn">
                                <img src="' + args.htmlParts.nextIcon + '"/>
                            </div>
                            <div class="ctrlBtn downBtn">
                                <img src="' + args.htmlParts.downIcon + '"/>
                            </div>
                            <div class="ctrlBtn minBtn">
                                <img src="' + args.htmlParts.minIcon + '"/>
                            </div>
                            <div class="ctrlBtn maxBtn">
                                <img src="' + args.htmlParts.maxIcon + '"/>
                            </div>
                            <div class="ctrlBtn exitBtn">
                                <img src="' + args.htmlParts.exitIcon + '"/>
                            </div>
                        </div>
                        <div class="title"></div>
                    </div>
                    <div class="content"></div>
                </div>
                <div class="resizeTop"></div>
                <div class="resizeBottom"></div>
                <div class="resizeLeft"></div>
                <div class="resizeRight"></div>
                <div class="resizeTopLeft"></div>
                <div class="resizeTopRight"></div>
                <div class="resizeBottomLeft"></div>
                <div class="resizeBottomRight"></div>
                
            </div>
        </module>
        <script type="text/javascript" src="./main.js"></script>
        <script type="text/javascript" src="./libs/monitor.js"></script>
        <script type="text/javascript" src="./libs/innerview.js"></script>
        <script>
            function html_to_shadow(module_html) {
                let shadow_module = document.createElement('div')
                shadow_module.attachShadow({mode: "open"})
                shadow_module.shadowRoot.innerHTML = module_html
                return shadow_module
            }

            function get_html_and_del(selector) {
                let module = document.querySelector(selector)
                html = module.innerHTML
                module.remove()
                return html
            }

            let pie_progress_html = get_html_and_del("htmlstore module.pie_progress")
            let monitor_html = get_html_and_del("htmlstore module.monitor")

            let monitor_card = document.querySelector(".mainline .flows .card.monitor")
            monitor_card.onclick = function () { 
                new MonitorView({
                    box: document.body.appendChild(document.createElement('div')),
                    html: monitor_html,
                    pie_html: pie_progress_html,
                    basic_size: "14px",
                    waitTime: 3000,
                    getMonitor: (callback) => { },
                })
            };
        </script>
    </htmlstore>
</body>


</html>
